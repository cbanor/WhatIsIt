<!DOCTYPE html>
<html lang="zh-cn">

<head>
    <title>What is it? -- javascript</title>
    <link href="//libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="//libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="//libs.baidu.com/bootstrap/3.0.3/js/bootstrap.js"></script>
    <script src="scripts/xFunctions.min.js"></script>
    <script src="scripts/shotgun.js.charsets.all.min.js"></script>
    <script src="scripts/TypeScripts/whatIsIt.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_number.js"></script>

    <script src="scripts/TypeScripts/whatIsIt_json_xml.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_zip.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_image.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_font.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_pdf.js"></script>
    <script src="scripts/TypeScripts/whatIsIt_asn1.js"></script>
    <script src="scripts/TypeScripts/Shotgun.Js.Security.Asn1.js"></script>
    <script src="scripts/shotgun.js.security.asn1.oids.min.js"></script>
    
    <script>

        function txt_ondblclick(sender) {
            $(".autoResult").alert('close');
            var src = sender.form["src"];
            var bin = null;
            try {
                bin = Shotgun.Js.Library.parseHex(src.value);
            } catch (e) {
                try {
                    bin = Shotgun.Js.Base64.decode(src.value)
                } catch (e) {
                    alert(e.message);
                    return;
                }

                
            }
            var rlt = WhatIsIt.itIs(bin);
            var r = WhatIsIt.formatResult(rlt, bin);
            sender.form["output"].value = r.text;// JSON.stringify(r, null, 4).replace("\\n", "\n");
            var div = Shotgun.Ui.Bootstrap.createAlert("success", true);
            div.addClass("autoResult");
            div.append(r.htmlResult);
            $(sender.form).append(div);
            if (r.formatted) $(".formatted > .glyphicon-question-sign").tooltip();
        }
        $(function () { $("[data-toggle='tooltip']").tooltip(); });
        function page_onload() {
            document.getElementById('cnv').click();
            registerPageOnSize();
        }

    </script>
    <style type="text/css">
        form {
            position: relative;
            display: inline-block;
        }

        .autoResult {
            position: absolute;
            right: 1px;
            bottom: 1px;
            margin-bottom: 0;
            opacity: 0.9;
            max-width: 350px;
        }

        .alert-dismissable .close {
            right: 5px;
            top: inherit;
            bottom: 5px;
            position: absolute;
            opacity: 1;
        }

        textarea {
            width: 700px;
            height: 200px;
            font-family: "Courier New", "Microsoft YaHei";
        }
    </style>

</head>

<body onload="page_onload()">
    <form onsubmit="return false;">
        <div><textarea name="src">
            MIICxjBABgkqhkiG9w0BBQ0wMzAbBgkqhkiG9w0BBQwwDgQISDzoyLjH8NoCAggA
            MBQGCCqGSIb3DQMHBAgDT9KwULuQ9gSCAoCxuam5wUGS4x99hbjtujPwewv9y4qb
            XVhlirYjdx/VBfuh73to8t3NdDQLBgw6Cg6w1iAeQYPQaq5nngRRa0lJ2fpitUYf
            KmZQAv840bPq2CY8Hc4M+R7msJYdoxESFPO1XaOAUKrTnsGJoNNgpCR2BysFaSeT
            mjwGZX2jw+kGl9lrAr9d1DAuSN3eX9lrw2BbffCOqwdjP7wFTox4pwtfHstLcc/x
            yiZ1K8VAtXK16ils72CygVFFVpCE8knAA2gVx7M0oWMnqSUta19Q/ZNDdRa2Cmk2
            1gxiwn9J/uYXIDEqoybMJ/eQncCsCb5EPxE3PxSeXhp7pUeMAa3WMaSH4+PKE5ST
            g3vJmtxT7agDogovuG6A7BOtER9BO3PR9iZQqsakIM+FXoa4PpquoyAVGC/oRp3C
            KXTnNO9d9txWAs689mIKcP97lPSNF3dvfVYz5HFVf1I6O2GBIVDdTrt9BOz3jLYk
            e7RJPv4af3F4PmdyyqYlPvbKObXV9auLnxuSEkniWQnQ+v14LNIfY5LcnI7GBQWH
            S00Pw9DFea1THh9d0aqRxarhZ4Rz6+p+OS+Cqm7BR7bJpS3TNGLHIMDZ+9ZlpIAc
            2LOJu52y+qaRJQPq9LviQNM3WZRo6+HM8UZZeNLIAulvGRhCjVVa63FCSxi+P/Io
            +YHucQVCIfaUfDWXNoEe47xbT/H3foEcJvEvDgcUWiFDVn2RGsBraJmj2NVtS4iq
            w/pSIpIHaQSJkD52IF1oxWQmlqO4jmBa8+e/8g3SCC+u5C2TdBCAETEqzQ1gjyiN
            PdE7l5Th5CtnjgrIHGK/1gP0AoMLdsVbN2IEM2dASrgyM6h3ktu+PoTG
        </textarea></div>
        <!--
            30819f300d06092a864886f70d010101050003818d00308189028181009fdb5cc9a3de547fd28a3cbc5a82acda4fe2f47efb0ab8b1b9716e6bcf31cac207def13914dbf6672364f40e8c11bf3ef0f7c91f2812b1bb4abf555f10576d548bf03139775fadb40443f415497b45f0db42a5a5ea71239d35017d743369c7f56b0e969aaefeb1a7fe277db78095ffade8875491fa3c473d0d7b97e2869b12470203010001
            30820245308201AEA003020102020431415970300D06092A864886F70D01010B050030273125302306035504030C1C53524B315F7368613235365F313032345F36353533375F76335F6361301E170D3138303632373131343631315A170D3236303632353131343631315A302A3128302606035504030C1F494D47315F315F7368613235365F313032345F36353533375F76335F75737230819F300D06092A864886F70D010101050003818D0030818902818100A99F5EDE64B82830BE3707E3EFF405838F96B0F2607613606184E606B0F7FB6D8ECBCD416B21607A94467C99D8E9D63101A9FC3688B49E855840D1330C5595BABDA530A51FBAA0D062A1484C83E075B2515511B6271F8A1CD880150FABC74A37E6317F43DDC04DED60EB88A36D9B0CC9FA9657977148659C70E34ED2BE148D8B0203010001A37B307930090603551D1304023000302C06096086480186F842010D041F161D4F70656E53534C2047656E657261746564204365727469666963617465301D0603551D0E041604146B5DF57E3D73AE496EC7E19811967ED14348F100301F0603551D23041830168014A341D3850517C0901FBEADC15004E51C01796FD2300D06092A864886F70D01010B0500038181009A47774BCEF80DF3E16864523E9B9576E7CD9F35C7EB73EBF26D6E2DDBA351E31F98122A92FF58B91C39A17927C18076CB090A35E25FCA5537B79D035A098DDFE6344B77FE470C451C2760BF4744BA3C33C15F050B0F44EC16331E759626CB5D2F1AC9D4F24D1284F81E913FDE073C9F718C07E0A489E2F4F0E57C8AC59B11BF
        -->
        <input id="cnv" type="button" value="转换" onclick="txt_ondblclick(this,{})" /><br />
        <textarea id="output" rows="10" cols="70"></textarea>
    </form>
</body>

</html>